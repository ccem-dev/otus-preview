!function(){"use strict";angular.module("otusjs.player",["otusjs.player.component","otusjs.player.core","otusjs.player.data"])}(),function(){"use strict";angular.module("otusjs.player.component",[])}(),function(){"use strict";function e(e){var t=this;t.$onInit=function(){t.comment=e.getFilling().comment},t.update=function(){t.onUpdate({valueType:"comment",value:t.comment})}}angular.module("otusjs.player.component").component("otusComment",{template:'<md-content layout-padding><div layout="row"><md-input-container md-no-float class="md-block" flex><textarea ng-model="$ctrl.comment" ng-change="$ctrl.update()" placeholder="Digite o texto aqui"></textarea></md-input-container></div></md-content>',controller:e,bindings:{itemData:"<",onUpdate:"&"}}),e.$inject=["otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";function e(e){function t(){e[0].innerHTML=n()}function n(){return a(o.itemLabel instanceof Object?o.itemLabel.ptBR.formattedText:o.itemLabel)}function a(e){return e?e:""}var o=this;o.$onInit=function(){t()}}angular.module("otusjs.player.component").component("otusLabel",{controller:e,bindings:{itemLabel:"<"}}),e.$inject=["$element"]}(),function(){"use strict";function e(e){var t=this;t.$onInit=function(){t.metadata=e.getFilling().metadata.value},t.update=function(){t.onUpdate({valueType:"metadata",value:t.metadata})}}angular.module("otusjs.player.component").component("metadataGroup",{template:'<md-content layout-padding style="margin-left: 10px"><md-radio-group ng-model="$ctrl.metadata" ng-change="$ctrl.update()" layout-padding flex><md-content value="{{option.value}}" ng-repeat="option in $ctrl.itemData.metadata.options" layout="row" style="margin: 10px"><md-radio-button aria-label="{{option.label}}" value="{{option.value}}" flex><otus-label item-label="option.label.ptBR.formattedText"></otus-label></md-radio-button></md-content></md-radio-group></md-content>',controller:e,bindings:{itemData:"<",onUpdate:"&"}}),e.$inject=["otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";function e(e){function t(e){event.deltaY>0?a():o()}function n(){}function a(){e.goAhead(),d()}function o(){e.goBack(),d()}function i(){}function r(){p.showBackCover=!1,p.showCover=!1,p.showActivity=!0,e.play(),d()}function c(){}function s(){p.playerCover.show()}function u(){p.showBackCover=!0,p.showCover=!1,p.showActivity=!1}function l(){p.showBackCover=!1,p.showCover=!0,p.showActivity=!1,p.playerCommander={},p.playerDisplay={},p.playerCover={},p.playerBackCover={},e.bindComponent(p)}function d(){e.getItemData()&&p.playerDisplay.loadItem(e.getItemData())}var p=this;p.catchMouseWheel=t,p.eject=n,p.goAhead=a,p.goBack=o,p.pause=i,p.play=r,p.stop=c,p.showBack=u,p.showCover=s,p.$onInit=l}angular.module("otusjs.player.component").component("otusPlayer",{template:'<md-content msd-wheel="$ctrl.catchMouseWheel($event)"><otus-survey-cover on-play="$ctrl.play()" ng-show="$ctrl.showCover" layout-align="center center" layout="column" flex style="background-color: #F9F9F9; margin-top: 5%"></otus-survey-cover><otus-player-commander ng-show="$ctrl.showActivity" on-eject="$ctrl.eject()" on-go-ahead="$ctrl.goAhead()" on-go-back="$ctrl.goBack()" on-pause="$ctrl.pause()" on-stop="$ctrl.stop()"></otus-player-commander><otus-survey-header survey-identity="$ctrl.identity" ng-show="$ctrl.showActivity"></otus-survey-header><otus-player-display ng-show="$ctrl.showActivity"></otus-player-display><otus-survey-back-cover ng-show="$ctrl.showBackCover" layout-align="center center" layout="column" flex style="background-color: #F9F9F9; margin-top: 5%"></otus-survey-back-cover></md-content>',controller:e}),e.$inject=["otusjs.player.core.player.PlayerService"]}(),function(){"use strict";function e(e){function t(){r.onGoAhead()}function n(){r.onGoBack()}function a(){r.onPause()}function o(){r.onStop()}function i(){e.$parent.$ctrl.playerCommander=r}var r=this;r.goBack=n,r.goAhead=t,r.pause=a,r.stop=o,r.$onInit=i}angular.module("otusjs.player.component").component("otusPlayerCommander",{template:'<md-content layout-padding layout="row"><md-toolbar style="border-radius: 3px" class="md-whiteframe-2dp"><div class="md-toolbar-tools" layout-align="space-around center"><md-button class="md-icon-button" aria-label="Voltar" ng-click="$ctrl.goBack()" ng-disabled="$ctrl.isGoBackDisabled"><md-icon md-font-set="material-icons">skip_previous</md-icon></md-button><md-button class="md-icon-button" aria-label="Salvar" ng-click="$ctrl.pause()" ng-show="false"><md-icon md-font-set="material-icons">save</md-icon></md-button><md-button class="md-icon-button" aria-label="Cancelar" ng-click="$ctrl.stop()" ng-show="false"><md-icon md-font-set="material-icons">close</md-icon></md-button><md-button class="md-icon-button" aria-label="Avançar" ng-click="$ctrl.goAhead()" ng-disabled="$ctrl.isGoAheadDisabled"><md-icon md-font-set="material-icons">skip_next</md-icon></md-button></div></md-toolbar></md-content>',controller:e,bindings:{onGoAhead:"&",onGoBack:"&",onPause:"&",onStop:"&"}}),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t,n){function a(){s.currentItem&&s.currentItem.destroy()}function o(o){if(c(o)){a(),e.itemData=o;var i=t.find("section"),r=n(u)(e);i.prepend(r)}}function i(){a(),t.find("section").prepend(n(l)(e))}function r(){e.$parent.$ctrl.playerDisplay=s,e.itemData={},e.itemData.customID=""}function c(t){return e.itemData&&e.itemData.customID!==t.customID}var s=this,u='<otus-survey-item item-data="itemData" />',l="<otus-cover />";s.loadItem=o,s.showCover=i,s.$onInit=r}angular.module("otusjs.player.component").component("otusPlayerDisplay",{template:"<md-content><section></section></md-content>",controller:e}),e.$inject=["$scope","$element","$compile"]}(),function(){"use strict";function e(e,t){function n(){e.$parent.$ctrl.playerBackCover=a;var n=t.getCurrentSurvey().getSurvey();a.title=n.template.identity.name}var a=this;a.$onInit=n}angular.module("otusjs.player.component").component("otusSurveyBackCover",{template:'<md-content layout-align="center center" layout="row" flex style="background-color: #F9F9F9"><div layout="column" flex><section><h2>{{ $ctrl.title }}</h2></section><md-button class="md-raised md-primary" aria-label="Finalizar" ng-click="$ctrl.play()"><md-icon md-font-set="material-icons">assignment_turned_in</md-icon>Finalizar</md-button></div></md-content>',controller:e}),e.$inject=["$scope","otusjs.player.data.activity.ActivityFacadeService"]}(),function(){"use strict";function e(e,t,n){function a(){e.$parent.$ctrl.playerCover=r;var t=n.getCurrentSurvey().getSurvey();r.title=t.template.identity.name}function o(){r.onPlay()}function i(){var e=n.getCurrentSurvey().getSurvey();r.title=e.template.identity.name}var r=this;r.$onInit=a,r.play=o,r.show=i}angular.module("otusjs.player.component").component("otusSurveyCover",{template:'<md-content layout-align="center center" layout="row" flex style="background-color: #F9F9F9"><div layout="column" flex><section><h2>{{ $ctrl.title }}</h2></section><md-button class="md-raised md-primary" aria-label="Iniciar" ng-click="$ctrl.play()"><md-icon md-font-set="material-icons">assignment</md-icon>Iniciar</md-button></div></md-content>',controller:e,bindings:{onPlay:"&"}}),e.$inject=["$scope","$element","otusjs.player.data.activity.ActivityFacadeService"]}(),function(){"use strict";function e(e){function t(){var t=e.getCurrentSurvey().getSurvey();n.title=t.template.identity.name,n.surveyIdentity=t.template.identity}var n=this;n.$onInit=t}angular.module("otusjs.player.component").component("otusSurveyHeader",{template:'<md-card><md-card-content><div layout="row"><div layout="row" layout-align="start center"><md-chips><md-chip>{{$ctrl.surveyIdentity.acronym}}</md-chip></md-chips><span class="md-subhead">{{$ctrl.surveyIdentity.name}}</span></div><span flex></span><div layout="row" layout-align="start down"><md-input-container><label>Realização</label> <input ng-model="$ctrl.realizationDate" disabled></md-input-container><md-input-container><label>Entrevistador(a)</label> <input ng-model="$ctrl.interviewer" disabled></md-input-container></div></div><div layout="row"><span class="md-body-1">{{$ctrl.surveyIdentity.description}}</span></div></md-card-content></md-card>',controller:e,bindings:{surveyIdentity:"<"}}),e.$inject=["otusjs.player.data.activity.ActivityFacadeService"]}(),function(){"use strict";function e(e,t,n,a){function o(e){d.$error=e}function i(){return"ImageItem"!==d.itemData.objectType&&"TextItem"!==d.itemData.objectType}function r(){return"ImageItem"===d.itemData.objectType||"TextItem"===d.itemData.objectType}function c(){}function s(e,t){e&&("comment"!==e?d.filling[e].value=t:d.filling[e]=t),n.fill(d.filling)}function u(e){d.filling=e}function l(){t.remove(),e.$destroy()}var d=this;d.isQuestion=i,d.isItem=r,d.restoreAll=c,d.update=s,d.pushData=u,d.destroy=l,d.updateValidation=o,d.$onInit=function(){d.filling={},d.filling.questionID=d.itemData.templateID,e.$parent.$ctrl.currentItem=d,n.observerRegistry(d),d.$error={}}}angular.module("otusjs.player.component").component("otusSurveyItem",{template:'<md-card flex><md-card-title><md-card-title-text layout="column" flex><div layout="row"><otus-label class="md-headline" item-label="$ctrl.itemData.label.ptBR.formattedText" flex layout-padding></otus-label></div></md-card-title-text></md-card-title><md-card-content layout="row" layout-align="space-between"><otus-question ng-if="$ctrl.isQuestion()" on-update="$ctrl.update(valueType, value)" item-data="$ctrl.itemData" layout="column" flex></otus-question><otus-misc-item ng-if="$ctrl.isItem()" item-data="$ctrl.itemData" layout="column" flex></otus-misc-item></md-card-content><otus-validation-error error="$ctrl.$error"></otus-validation-error></md-card>',controller:e,bindings:{itemData:"<"}}),e.$inject=["$scope","$element","otusjs.player.data.activity.CurrentItemService","$filter"]}(),function(){"use strict";function e(e,t){var n=this;n.$onInit=function(){n.template=e.createTagElement(n.itemData.objectType)},n.update=function(e,t){n.onUpdate({valueType:e,value:t})}}angular.module("otusjs.player.component").component("otusQuestion",{template:'<md-content layout="column"><md-tabs><md-tab label="Resposta"><md-content bind-html-compile="$ctrl.template"></md-content></md-tab><md-tab label="Metadado"><metadata-group on-update="$ctrl.update(valueType, value)" item-data="$ctrl.itemData"></metadata-group></md-tab><md-tab label="Comentário"><otus-comment on-update="$ctrl.update(valueType, value)" item-data="$ctrl.itemData"></otus-comment></md-tab></md-tabs></md-content>',controller:e,bindings:{itemData:"<",onUpdate:"&"},require:{otusSurveyItem:"^otusSurveyItem"}}),e.$inject=["otusjs.player.core.renderer.TagComponentBuilderService","otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";function e(e){var t=this;t.$onInit=function(){t.answer=e.getFilling().answer.value},t.update=function(){t.onUpdate({valueType:"answer",value:t.answer})}}angular.module("otusjs.player.component").component("otusCalendarQuestion",{template:'<md-content layout-padding><div layout="row" style="margin-top: 15px"><md-datepicker ng-model="$ctrl.answer" ng-change="$ctrl.update()" md-placeholder="Insira a data"></md-datepicker></div></md-content>',controller:e,bindings:{itemData:"<",onUpdate:"&"}}),e.$inject=["otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";function e(e){var t=this;t.$onInit=function(){t.answer=e.getFilling().answer.value},t.update=function(){t.onUpdate({valueType:"answer",value:t.answer})}}angular.module("otusjs.player.component").component("otusIntegerQuestion",{template:'<md-content layout-padding><div layout="row"><md-input-container md-no-float class="md-block" flex-gt-sm="45"><input type="number" step="1" ng-model="$ctrl.answer" ng-change="$ctrl.update()" ui-integer placeholder="Insira um valor inteiro"></md-input-container><md-input-container class="md-block" flex-gt-sm="45"><otus-label item-label="$ctrl.itemData.unit"></otus-label></md-input-container></div></md-content>',controller:e,bindings:{itemData:"<",onUpdate:"&"}}),e.$inject=["otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";angular.module("otusjs.player.component").directive("uiInteger",function(){return{link:function(e,t,n,a){function o(e){var t=(angular.element(e.currentTarget),e.which);return r(t)||c(t)}function i(e){var t=angular.element(e.currentTarget),n=e.which,a=t.val();0===a.length?s="":r(n)||c(n)?s=t.val():c(n)||t.val(s)}function r(e){return e>=48&&e<=57||e>=96&&e<=105}function c(e){var t=109===e,n=16===e,a=8===e,o=36===e,i=35===e,r=46===e,c=17===e,s=37===e,u=39===e;return t||n||a||o||i||r||c||s||u}var s;t.on("keydown",o),t.on("keyup",i)}}})}(),function(){"use strict";function e(e){var t=this;t.$onInit=function(){t.answer=e.getFilling().answer.value},t.update=function(){t.onUpdate({valueType:"answer",value:t.answer})}}angular.module("otusjs.player.component").component("otusDecimalQuestion",{template:'<md-content layout-padding><div layout="row"><md-input-container md-no-float class="md-block" flex-gt-sm="45"><input type="number" step="any" ng-model="$ctrl.answer" ng-change="$ctrl.update()" ui-decimal placeholder="Insira um valor decimal"></md-input-container><md-input-container class="md-block" flex-gt-sm="45"><otus-label item-label="$ctrl.itemData.unit"></otus-label></md-input-container></div></md-content>',controller:e,bindings:{itemData:"<",onUpdate:"&"}}),e.$inject=["otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";function e(e){var t=this;t.$onInit=function(){t.answer=e.getFilling().answer.value},t.update=function(){t.onUpdate({valueType:"answer",value:t.answer})}}angular.module("otusjs.player.component").component("otusSingleSelectionQuestion",{template:'<md-content layout-padding style="margin-left: 10px"><md-radio-group ng-model="$ctrl.answer" ng-change="$ctrl.update()" layout-padding flex><md-radio-button value="{{option.value}}" ng-repeat="option in $ctrl.itemData.options" layout="row" style="margin: 10px"><otus-label item-label="option.label.ptBR.formattedText"></otus-label></md-radio-button></md-radio-group></md-content>',controller:e,bindings:{itemData:"<",onUpdate:"&"}}),e.$inject=["otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";function e(e){function t(e){return{option:e.customOptionID,state:e.value}}var n=this;n.$onInit=function(){n.answerArray=e.getFilling().answer.value,n.answerArray||(n.answerArray=[],n.itemData.options.forEach(function(e){n.answerArray.push(t(e))}))},n.update=function(e){n.onUpdate({valueType:"answer",value:n.answerArray})}}angular.module("otusjs.player.component").component("otusCheckboxQuestion",{template:'<md-content layout-padding style="margin-top: 12px"><md-content ng-repeat="option in $ctrl.itemData.options track by $index" flex><md-checkbox ng-model="$ctrl.answerArray[$index].state" ng-change="$ctrl.update($index)" layout="row" style="margin: 7px"><otus-label item-label="option.label.ptBR.formattedText"></otus-label></md-checkbox></md-content></md-content>',controller:e,bindings:{itemData:"<",onUpdate:"&"}}),e.$inject=["otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";function e(e,t,n){var a=this;a.$onInit=function(){a.answer=t.getFilling().answer.value,a.hasAlphanumeric=t.getFillingRules().alphanumeric,a.hasSpecials=t.getFillingRules().specials,a.hasUpperCase=t.getFillingRules().upperCase,a.hasLowerCase=t.getFillingRules().lowerCase},a.update=function(){a.hasLowerCase&&a.answer.value.toLowerCase(),a.hasUpperCase&&a.answer.value.toUpperCase(),(a.hasAlphanumeric&&a.hasAlphanumeric.data.reference||a.hasSpecials&&a.hasSpecials.data.reference)&&n.apply(e,a.answer),a.onUpdate({valueType:"answer",value:a.answer})}}angular.module("otusjs.player.component").component("otusTextQuestion",{template:'<md-content id="text-question" layout-padding><div layout="row"><md-input-container md-no-float class="md-block" flex><textarea ng-class="{lowercase: $ctrl.hasLowerCase, uppercase: $ctrl.hasUpperCase}" ng-model="$ctrl.answer" ng-change="$ctrl.update()" placeholder="Digite o texto aqui"></textarea></md-input-container></div></md-content>',controller:e,bindings:{itemData:"<",onUpdate:"&"}}),e.$inject=["$element","otusjs.player.data.activity.CurrentItemService","uiFormatedService"]}(),function(){"use strict";function e(){function e(e,t){function n(e){var t=/^[a-záàâãéèêíïóòôõöúùçA-ZÁÀÂÃÉÈÊÍÓÒÔÕÚÙÇ0-9 .,]*$/;return!!t.test(e)}var a=(e.find("textarea"),t[t.length-1]);if(n(a))return t;var o=t.slice(0,-1);return e.find("textarea")[0].value=o,o}var t=this;t.apply=e}angular.module("otusjs.player.component").service("uiFormatedService",e)}(),function(){"use strict";function e(e){var t=this;t.$onInit=function(){t.answer=e.getFilling().answer.value},t.update=function(){t.onUpdate({valueType:"answer",value:t.answer})},t.ariaLabel=function(){return t.itemData.label.ptBR.plainText}}angular.module("otusjs.player.component").component("otusEmailQuestion",{template:'<md-content layout-padding><div layout="row"><md-input-container md-no-float class="md-block" flex-gt-sm="45"><md-icon class="material-icons">email</md-icon><input name="email" type="email" ng-model="$ctrl.answer" ng-change="$ctrl.update()" placeholder="email@email.com" aria-label="{{$ctrl.ariaLabel()}}"></md-input-container></div></md-content>',controller:e,bindings:{itemData:"<",onUpdate:"&"}}),e.$inject=["otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";function e(e){var t=this;t.$onInit=function(){t.answer=e.getFilling().answer.value},t.update=function(){t.onUpdate({valueType:"answer",value:t.answer})}}angular.module("otusjs.player.component").component("otusTimeQuestion",{template:'<md-content layout-padding><div layout="row"><md-input-container class="md-block" flex-gt-sm="45"><md-icon class="material-icons">access_time</md-icon><input type="time" ng-model="$ctrl.answer" ng-change="$ctrl.update()" aria-label="Tempo" min="0" max="4999"></md-input-container></div></md-content>',controller:e,bindings:{itemData:"<",onUpdate:"&"}}),e.$inject=["otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";function e(e){var t=this;t.$onInit=function(){t.answer=e.getFilling().answer.value},t.update=function(){t.onUpdate({valueType:"answer",value:t.answer})}}angular.module("otusjs.player.component").component("otusPhoneQuestion",{template:'<md-content layout-padding><div><md-input-container md-no-float class="md-block" flex-gt-sm="45"><md-icon class="material-icons">phone</md-icon><input type="text" ng-model="$ctrl.answer" ng-change="$ctrl.update()" placeholder="(XX) XXXXX-XXXX" ui-br-phone-number></md-input-container></div></md-content>',controller:e,bindings:{itemData:"<",onUpdate:"&"}}),e.$inject=["otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";function e(){function e(){return"ImageItem"===n.itemData.objectType}function t(){return"TextItem"===n.itemData.objectType}var n=this;n.isImageItem=e,n.isTextItem=t,n.$onInit=function(){}}angular.module("otusjs.player.component").component("otusMiscItem",{template:'<md-content layout="column" layout-align="center center"><otus-image-item ng-if="$ctrl.isImageItem()" item-data="$ctrl.itemData"></otus-image-item><otus-text-item ng-if="$ctrl.isTextItem()" item-data="$ctrl.itemData"></otus-text-item></md-content>',controller:e,bindings:{itemData:"<"}})}(),function(){"use strict";function e(){var e=this;e.$onInit=function(){}}angular.module("otusjs.player.component").component("otusImageItem",{template:'<img ng-src="{{$ctrl.itemData.url}}" layout="row"><otus-label class="md-headline" item-label="$ctrl.itemData.footer.ptBR.formattedText"></otus-label>',controller:e,bindings:{itemData:"<"}})}(),function(){"use strict";function e(){var e=this;e.$onInit=function(){}}angular.module("otusjs.player.component").component("otusTextItem",{template:"<md-content><br><label>{{$ctrl.itemData.value.ptBR.formattedText}}</label></md-content>",controller:e,bindings:{itemData:"<"}})}(),function(){function e(e,t){var n=this;n.$onInit=function(){},n.referenceAsDate=function(n){var a,o=e.getFillingRules()[n].data.reference;return a="rangeDate"===n?{initial:t("date")(new Date(o.initial),"dd/MM/yyyy"),end:t("date")(new Date(o.end),"dd/MM/yyyy")}:t("date")(new Date(o),"dd/MM/yyyy")},n.referenceAsTime=function(n){var a=e.getFillingRules()[n].data.reference;return t("date")(new Date(a),"hh:mm:ss")},n.reference=function(t){var n=e.getFillingRules()[t].data.reference;return n}}angular.module("otusjs.player.component").component("otusValidationError",{template:'<ng-messages layout="column" layout-align="end start" for="$ctrl.$error" layout-padding ng-messages-multiple role="alert"><ng-message class="md-button md-warn" when="mandatory"><md-icon md-font-set="material-icons">info</md-icon>Questão de preenchimento obrigatório</ng-message><ng-message class="md-button md-warn" when="distinct"><md-icon md-font-set="material-icons">info</md-icon>Insira um valor diferente de {{ $ctrl.reference(\'distinct\') }}</ng-message><ng-message class="md-button md-warn" when="lowerLimit"><md-icon md-font-set="material-icons">info</md-icon>O valor deve ser maior que {{ $ctrl.reference(\'lowerLimit\') }}</ng-message><ng-message class="md-button md-warn" when="upperLimit"><md-icon md-font-set="material-icons">info</md-icon>O valor deve ser menor que {{ $ctrl.reference(\'upperLimit\') }}</ng-message><ng-message class="md-button md-warn" when="rangeDate"><md-icon md-font-set="material-icons">info</md-icon>O valor deve ser maior que {{ $ctrl.referenceAsDate(\'rangeDate\').initial }} e menor que {{ $ctrl.referenceAsDate(\'rangeDate\').end }}</ng-message><ng-message class="md-button md-warn" when="maxDate"><md-icon md-font-set="material-icons">info</md-icon>A data deve ser menor que {{ $ctrl.referenceAsDate(\'maxDate\')}}</ng-message><ng-message class="md-button md-warn" when="minDate"><md-icon md-font-set="material-icons">info</md-icon>A data deve ser maior que {{ $ctrl.referenceAsDate(\'minDate\') }}</ng-message><ng-message class="md-button md-warn" when="pastDate"><md-icon md-font-set="material-icons">info</md-icon>A data deve ser anterior à data corrente</ng-message><ng-message class="md-button md-warn" when="futureDate"><md-icon md-font-set="material-icons">info</md-icon>A data deve ser posterior à data corrente</ng-message><ng-message class="md-button md-warn" when="minLength"><md-icon md-font-set="material-icons">info</md-icon>Resposta deve ter mais que {{ $ctrl.reference(\'minLength\') }} caracteres</ng-message><ng-message class="md-button md-warn" when="maxLength"><md-icon md-font-set="material-icons">info</md-icon>Resposta deve ter mais que {{ $ctrl.reference(\'maxLength\') }} caracteres</ng-message><ng-message class="md-button md-warn" when="in"><md-icon md-font-set="material-icons">info</md-icon>O valor deve ser maior que {{ $ctrl.reference(\'in\').initial }} e menor que {{ $ctrl.reference(\'in\').end }}</ng-message><ng-message class="md-button md-warn" when="precision"><md-icon md-font-set="material-icons">info</md-icon>Resposta deve conter exatamente {{ $ctrl.reference(\'precision\') }} dígitos</ng-message><ng-message class="md-button md-warn" when="scale"><md-icon md-font-set="material-icons">info</md-icon>Resposta deve conter exatamente {{ $ctrl.reference(\'scale\') }} casas decimais</ng-message><ng-message class="md-button md-warn" when="maxTime"><md-icon md-font-set="material-icons">info</md-icon>Hora máxima permitida: {{ $ctrl.referenceAsTime(\'maxTime\') }}</ng-message><ng-message class="md-button md-warn" when="minTime"><md-icon md-font-set="material-icons">info</md-icon>Hora mínima permitida: {{ $ctrl.referenceAsTime(\'minTime\') }}</ng-message><ng-message class="md-button md-warn" when="quantity"><md-icon md-font-set="material-icons">info</md-icon>Quantidade selecionada deve ser igual a {{ $ctrl.reference(\'quantity\') }}</ng-message><ng-message class="md-button md-warn" when="minSelected"><md-icon md-font-set="material-icons">info</md-icon>Quantidade mínima selecionada deve ser {{ $ctrl.reference(\'minSelected\') }}</ng-message><ng-message class="md-button md-warn" when="maxSelected"><md-icon md-font-set="material-icons">info</md-icon>Quantidade máxima selecionada deve ser {{ $ctrl.reference(\'maxSelected\') }}</ng-message></ng-messages>',controller:e,bindings:{$error:"=error"}}),e.$inject=["otusjs.player.data.activity.CurrentItemService","$filter"]}(),function(){"use strict";angular.module("otusjs.player.core",["otusjs.player.core.phase","otusjs.player.core.player","otusjs.player.core.renderer","otusjs.player.core.scaffold","otusjs.player.core.step","otusjs.player.data"])}(),function(){"use strict";angular.module("otusjs.player.core.phase",[])}(),function(){"use strict";function e(){var e=this;e.pipe={},e.flowData={}}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.ActionPipeService",e)}(),function(){"use strict";function e(e,t,n,a){function o(){e.flowData.flowDirection="ahead";var o=t.execute(e.flowData);o=n.execute(o),o=a.execute(o)}var i=this;i.PreAheadActionService=t,i.ExecutionAheadActionService=n,i.PostAheadActionService=a,i.execute=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.AheadActionService",e),e.$inject=["otusjs.player.core.phase.ActionPipeService","otusjs.player.core.phase.PreAheadActionService","otusjs.player.core.phase.ExecutionAheadActionService","otusjs.player.core.phase.PostAheadActionService"]}(),function(){"use strict";function e(e,t){function n(e){var n=t.create();n.setPreExecute(e.beforeEffect),n.setExecute(e.effect),n.setPostExecute(e.afterEffect),n.setResult(e.getEffectResult),r.chain(n)}function a(e){return e.pipe.isFlowing?(i.isFlowing=e.pipe.isFlowing,i.flowData=e.flowData,r.execute(i,i.flowData)):e}function o(){i.isFlowing=!1}var i=this,r=e.create();i.isFlowing=!0,i.pipe=n,i.execute=a,i.stopFlow=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.ExecutionAheadActionService",e),e.$inject=["otusjs.player.core.scaffold.ChainFactory","otusjs.player.core.scaffold.ChainLinkFactory"]}(),function(){"use strict";function e(e,t){function n(e){var n=t.create();n.setPreExecute(e.beforeEffect),n.setExecute(e.effect),n.setPostExecute(e.afterEffect),n.setResult(e.getEffectResult),r.chain(n)}function a(e){return e.pipe.isFlowing?(i.isFlowing=e.pipe.isFlowing,i.flowData=e.flowData,r.execute(i,i.flowData)):e}function o(){i.isFlowing=!1}var i=this,r=e.create();i.isFlowing=!0,i.pipe=n,i.execute=a,i.stopFlow=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.PostAheadActionService",e),e.$inject=["otusjs.player.core.scaffold.ChainFactory","otusjs.player.core.scaffold.ChainLinkFactory"]}(),function(){"use strict";function e(e,t){function n(e){var n=t.create();n.setPreExecute(e.beforeEffect),n.setExecute(e.effect),n.setPostExecute(e.afterEffect),n.setResult(e.getEffectResult),r.chain(n)}function a(e){return i.isFlowing=!0,r.execute(i,e)}function o(){i.isFlowing=!1}var i=this,r=e.create();i.pipe=n,i.execute=a,i.stopFlow=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.PreAheadActionService",e),e.$inject=["otusjs.player.core.scaffold.ChainFactory","otusjs.player.core.scaffold.ChainLinkFactory"]}(),function(){"use strict";function e(e,t,n,a){function o(){e.flowData.flowDirection="back";var o=t.execute(e.flowData);o=n.execute(o),o=a.execute(o)}var i=this;i.PreBackActionService=t,i.ExecutionBackActionService=n,i.PostBackActionService=a,i.execute=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.BackActionService",e),e.$inject=["otusjs.player.core.phase.ActionPipeService","otusjs.player.core.phase.PreBackActionService","otusjs.player.core.phase.ExecutionBackActionService","otusjs.player.core.phase.PostBackActionService"]}(),function(){"use strict";function e(e,t){function n(e){var n=t.create();n.setPreExecute(e.beforeEffect),n.setExecute(e.effect),n.setPostExecute(e.afterEffect),n.setResult(e.getEffectResult),r.chain(n)}function a(e){return e.pipe.isFlowing?(i.isFlowing=e.pipe.isFlowing,i.flowData=e.flowData,r.execute(i,i.flowData)):e}function o(){i.isFlowing=!1}var i=this,r=e.create();i.isFlowing=!0,i.pipe=n,i.execute=a,i.stopFlow=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.ExecutionBackActionService",e),e.$inject=["otusjs.player.core.scaffold.ChainFactory","otusjs.player.core.scaffold.ChainLinkFactory"]}(),function(){"use strict";function e(e,t){function n(e){var n=t.create();n.setPreExecute(e.beforeEffect),n.setExecute(e.effect),n.setPostExecute(e.afterEffect),n.setResult(e.getEffectResult),r.chain(n)}function a(e){return e.pipe.isFlowing?(i.isFlowing=e.pipe.isFlowing,i.flowData=e.flowData,r.execute(i,i.flowData)):e}function o(){i.isFlowing=!1}var i=this,r=e.create();i.isFlowing=!0,i.pipe=n,i.execute=a,i.stopFlow=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.PostBackActionService",e),e.$inject=["otusjs.player.core.scaffold.ChainFactory","otusjs.player.core.scaffold.ChainLinkFactory"]}(),function(){"use strict";function e(e,t){function n(e){var n=t.create();n.setPreExecute(e.beforeEffect),n.setExecute(e.effect),n.setPostExecute(e.afterEffect),n.setResult(e.getEffectResult),r.chain(n)}function a(e){return i.isFlowing=!0,r.execute(i,e)}function o(){i.isFlowing=!1}var i=this,r=e.create();i.pipe=n,i.execute=a,i.stopFlow=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.PreBackActionService",e),e.$inject=["otusjs.player.core.scaffold.ChainFactory","otusjs.player.core.scaffold.ChainLinkFactory"]}(),function(){"use strict";function e(e,t,n,a){function o(){var o=t.execute(e.flowData);o=n.execute(o),o=a.execute(o)}var i=this;i.PrePlayActionService=t,i.ExecutionPlayActionService=n,i.PostPlayActionService=a,i.execute=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.PlayActionService",e),e.$inject=["otusjs.player.core.phase.ActionPipeService","otusjs.player.core.phase.PrePlayActionService","otusjs.player.core.phase.ExecutionPlayActionService","otusjs.player.core.phase.PostPlayActionService"]}(),function(){"use strict";function e(e,t){function n(e){var n=t.create();n.setPreExecute(e.beforeEffect),n.setExecute(e.effect),n.setPostExecute(e.afterEffect),n.setResult(e.getEffectResult),r.chain(n)}function a(e){return e.pipe.isFlowing?(i.isFlowing=e.pipe.isFlowing,i.flowData=e.flowData,r.execute(i,i.flowData)):e}function o(){i.isFlowing=!1}var i=this,r=e.create();i.isFlowing=!0,i.pipe=n,i.execute=a,i.stopFlow=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.ExecutionPlayActionService",e),e.$inject=["otusjs.player.core.scaffold.ChainFactory","otusjs.player.core.scaffold.ChainLinkFactory"]}(),function(){"use strict";function e(e,t){function n(e){var n=t.create();n.setPreExecute(e.beforeEffect),n.setExecute(e.effect),n.setPostExecute(e.afterEffect),n.setResult(e.getEffectResult),r.chain(n)}function a(e){return e.pipe.isFlowing?(i.isFlowing=e.pipe.isFlowing,i.flowData=e.flowData,r.execute(i,i.flowData)):e}function o(){i.isFlowing=!1}var i=this,r=e.create();i.isFlowing=!0,i.pipe=n,i.execute=a,i.stopFlow=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.PostPlayActionService",e),e.$inject=["otusjs.player.core.scaffold.ChainFactory","otusjs.player.core.scaffold.ChainLinkFactory"]}(),function(){"use strict";function e(e,t){function n(e){var n=t.create();n.setPreExecute(e.beforeEffect),n.setExecute(e.effect),n.setPostExecute(e.afterEffect),n.setResult(e.getEffectResult),r.chain(n)}function a(e){return i.isFlowing=!0,r.execute(i,e)}function o(){i.isFlowing=!1}var i=this,r=e.create();i.isFlowing=!0,i.pipe=n,i.execute=a,i.stopFlow=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.PrePlayActionService",e),e.$inject=["otusjs.player.core.scaffold.ChainFactory","otusjs.player.core.scaffold.ChainLinkFactory"];
}(),function(){"use strict";function e(e,t){function n(e){var n=t.create();n.setPreExecute(e.beforeEffect),n.setExecute(e.effect),n.setPostExecute(e.afterEffect),n.setResult(e.getEffectResult),r.chain(n)}function a(e){return e.pipe.isFlowing?(i.isFlowing=e.pipe.isFlowing,i.flowData=e.flowData,r.execute(i,i.flowData)):e}function o(){i.isFlowing=!1}var i=this,r=e.create();i.isFlowing=!0,i.pipe=n,i.execute=a,i.stopFlow=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.ExecutionPlayerStartActionService",e),e.$inject=["otusjs.player.core.scaffold.ChainFactory","otusjs.player.core.scaffold.ChainLinkFactory"]}(),function(){"use strict";function e(e,t,n,a){function o(){var o=t.execute(e.flowData);o=n.execute(o),o=a.execute(o)}var i=this;i.PrePlayerStartActionService=t,i.ExecutionPlayerStartActionService=n,i.PostPlayerStartActionService=a,i.execute=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.PlayerStartActionService",e),e.$inject=["otusjs.player.core.phase.ActionPipeService","otusjs.player.core.phase.PrePlayerStartActionService","otusjs.player.core.phase.ExecutionPlayerStartActionService","otusjs.player.core.phase.PostPlayerStartActionService"]}(),function(){"use strict";function e(e,t){function n(e){var n=t.create();n.setPreExecute(e.beforeEffect),n.setExecute(e.effect),n.setPostExecute(e.afterEffect),n.setResult(e.getEffectResult),r.chain(n)}function a(e){return e.pipe.isFlowing?(i.isFlowing=e.pipe.isFlowing,i.flowData=e.flowData,r.execute(i,i.flowData)):e}function o(){i.isFlowing=!1}var i=this,r=e.create();i.isFlowing=!0,i.pipe=n,i.execute=a,i.stopFlow=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.PostPlayerStartActionService",e),e.$inject=["otusjs.player.core.scaffold.ChainFactory","otusjs.player.core.scaffold.ChainLinkFactory"]}(),function(){"use strict";function e(e,t){function n(e){var n=t.create();n.setPreExecute(e.beforeEffect),n.setExecute(e.effect),n.setPostExecute(e.afterEffect),n.setResult(e.getEffectResult),r.chain(n)}function a(e){return i.isFlowing=!0,r.execute(i,e)}function o(){i.isFlowing=!1}var i=this,r=e.create();i.isFlowing=!0,i.pipe=n,i.execute=a,i.stopFlow=o}angular.module("otusjs.player.core.phase").service("otusjs.player.core.phase.PrePlayerStartActionService",e),e.$inject=["otusjs.player.core.scaffold.ChainFactory","otusjs.player.core.scaffold.ChainLinkFactory"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,c,s,u,l){e.onPlayerStart(i),e.onPlay(n),e.onPostPlay(o),e.onPostPlay(u),e.onPreAhead(t),e.onPreAhead(s),e.onPreAhead(c),e.onPreAhead(l),e.onAhead(o),e.onPostAhead(u),e.onPostBack(a),e.onPostBack(u)}angular.module("otusjs.player.core.player",[]).run(["otusjs.player.core.player.PlayerConfigurationService","otusjs.player.core.step.ApplyAnswerStepService","otusjs.player.core.step.InitializeSurveyActivityStepService","otusjs.player.core.step.LoadPreviousItemStepService","otusjs.player.core.step.LoadNextItemStepService","otusjs.player.core.step.LoadSurveyActivityStepService","otusjs.player.core.step.LoadSurveyActivityCoverStepService","otusjs.player.core.step.ReadValidationErrorStepService","otusjs.player.core.step.RunValidationStepService","otusjs.player.core.step.SetupValidationStepService","otusjs.player.core.step.HandleValidationErrorStepService",e])}(),function(){"use strict";function e(e,t,n,a){function o(t){e.PrePlayerStartActionService.pipe(t)}function i(t){e.ExecutionPlayerStartActionService.pipe(t)}function r(t){e.PostPlayerStartActionService.pipe(t)}function c(e){t.PrePlayActionService.pipe(e)}function s(e){t.ExecutionPlayActionService.pipe(e)}function u(e){t.PostPlayActionService.pipe(e)}function l(e){n.PreAheadActionService.pipe(e)}function d(e){n.ExecutionAheadActionService.pipe(e)}function p(e){n.PostAheadActionService.pipe(e)}function m(e){a.PreBackActionService.pipe(e)}function f(e){a.ExecutionBackActionService.pipe(e)}function v(e){a.PostBackActionService.pipe(e)}var y=this;y.onPrePlayerStart=o,y.onPlayerStart=i,y.onPostPlayerStart=r,y.onPrePlay=c,y.onPlay=s,y.onPostPlay=u,y.onPreAhead=l,y.onAhead=d,y.onPostAhead=p,y.onPreBack=m,y.onBack=f,y.onPostBack=v}angular.module("otusjs.player.core.player").service("otusjs.player.core.player.PlayerConfigurationService",e),e.$inject=["otusjs.player.core.phase.PlayerStartActionService","otusjs.player.core.phase.PlayActionService","otusjs.player.core.phase.AheadActionService","otusjs.player.core.phase.BackActionService"]}(),function(){"use strict";function e(e,t,n,a,o){function i(e){m=e}function r(){return e.getCurrentItem().getItem()}function c(){a.execute()}function s(){o.execute()}function u(){n.execute()}function l(){t.execute()}function d(){m.showBack()}var p=this,m=null;p.bindComponent=i,p.getItemData=r,p.goAhead=c,p.goBack=s,p.play=u,p.setup=l,p.end=d}angular.module("otusjs.player.core.player").service("otusjs.player.core.player.PlayerService",e),e.$inject=["otusjs.player.data.activity.ActivityFacadeService","otusjs.player.core.phase.PlayerStartActionService","otusjs.player.core.phase.PlayActionService","otusjs.player.core.phase.AheadActionService","otusjs.player.core.phase.BackActionService"]}(),function(){"use strict";angular.module("otusjs.player.core.renderer",[])}(),function(){"use strict";function e(){function e(e){var t=e.split(""),n="";return t.forEach(function(e,t){var a="";e===e.toUpperCase()?(a=e.toLowerCase(),0!==t&&(a="-"+a)):a=e,n+=a}),n}var t=this;t.generateTagName=e}angular.module("otusjs.player.core.renderer").service("otusjs.player.core.renderer.HtmlBuilderService",e)}(),function(){"use strict";function e(e){function t(t){return n(e.generateTagName(t))}function n(e){return"<otus-"+e+' item-data="$ctrl.itemData" on-update="$ctrl.update(valueType, value)" />'}var a=this;a.createTagElement=t}angular.module("otusjs.player.core.renderer").service("otusjs.player.core.renderer.TagComponentBuilderService",e),e.$inject=["otusjs.player.core.renderer.HtmlBuilderService"]}(),function(){"use strict";angular.module("otusjs.player.core.scaffold",[])}(),function(){"use strict";function e(e){function a(){return new t}var o=this;return n.ChainLinkFactory=e,o.create=a,o}function t(){function e(e){c.setNext(e),c=e}function t(e,t){return r.execute(e,t)}function a(){return r}function o(){return c}var i=this,r=n.ChainLinkFactory.create(),c=r;i.chain=e,i.execute=t,i.getChainHead=a,i.getChainTail=o}angular.module("otusjs.player.core.scaffold").factory("otusjs.player.core.scaffold.ChainFactory",e),e.$inject=["otusjs.player.core.scaffold.ChainLinkFactory"];var n={}}(),function(){"use strict";function e(){function e(){return new t}var n=this;return n.create=e,n}function t(){function e(){return _result}function t(){return l}function n(e,t){return p&&p(e,t),m&&!e.skipStep&&m(e,t),f&&f(e,t),e.isFlowing&&(e.skipStep=!1,v?l&&l.execute(e,v(e,t)):l&&l.execute(e,t)),{pipe:e,flowData:t}}function a(e){d=e}function o(e){m=e}function i(e){l=e}function r(e){f=e}function c(e){p=e}function s(e){v=e}var u=this,l=null,d=null,p=null,m=null,f=null,v=null;u.getNext=t,u.getResult=e,u.execute=n,u.catchFlowData=a,u.setExecute=o,u.setNext=i,u.setPostExecute=r,u.setPreExecute=c,u.setResult=s}angular.module("otusjs.player.core.scaffold").factory("otusjs.player.core.scaffold.ChainLinkFactory",e)}(),function(){"use strict";angular.module("otusjs.player.core.step",[])}(),function(){"use strict";function e(e){function t(e,t){}function n(t,n){e.initialize()}function a(e,t){}function o(e,t){return t}var i=this;i.beforeEffect=t,i.effect=n,i.afterEffect=a,i.getEffectResult=o}angular.module("otusjs.player.core.step").service("otusjs.player.core.step.InitializeSurveyActivityStepService",e),e.$inject=["otusjs.player.data.activity.ActivityFacadeService"]}(),function(){"use strict";function e(e,t){function n(e,t){}function a(n,a){e.setup(),t.initialize()}function o(e,t){}function i(e,t){return t}var r=this;r.beforeEffect=n,r.effect=a,r.afterEffect=o,r.getEffectResult=i}angular.module("otusjs.player.core.step").service("otusjs.player.core.step.LoadSurveyActivityStepService",e),e.$inject=["otusjs.player.data.activity.ActivityFacadeService","otusjs.player.data.navigation.NavigationService"]}(),function(){"use strict";function e(e){function t(e,t){}function n(e,t){}function a(e,t){}function o(e,t){return t}var i=this;i.beforeEffect=t,i.effect=n,i.afterEffect=a,i.getEffectResult=o}angular.module("otusjs.player.core.step").service("otusjs.player.core.step.LoadSurveyActivityCoverStepService",e),e.$inject=["otusjs.player.core.player.PlayerService"]}(),function(){"use strict";function e(e,t,n){function a(e,t){}function o(a,o){var i=e.loadNextItem();i?(t.setup(i),o.answerToEvaluate={},o.answerToEvaluate.data={},o.metadataToEvaluate={},o.metadataToEvaluate.data={}):n.end()}function i(e,t){}function r(e,t){return t}var c=this;c.beforeEffect=a,c.effect=o,c.afterEffect=i,c.getEffectResult=r}angular.module("otusjs.player.core.step").service("otusjs.player.core.step.LoadNextItemStepService",e),e.$inject=["otusjs.player.data.navigation.NavigationService","otusjs.player.data.activity.CurrentItemService","otusjs.player.core.player.PlayerService"]}(),function(){"use strict";function e(e,t){function n(e,t){}function a(n,a){var o=e.loadPreviousItem();o&&(t.setup(o),a.answerToEvaluate={},a.answerToEvaluate.data={})}function o(e,t){}function i(e,t){return t}var r=this;r.beforeEffect=n,r.effect=a,r.afterEffect=o,r.getEffectResult=i}angular.module("otusjs.player.core.step").service("otusjs.player.core.step.LoadPreviousItemStepService",e),e.$inject=["otusjs.player.data.navigation.NavigationService","otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";function e(e){function t(t,n){i=e.getCurrentItem(),i.shouldApplyAnswer()?t.skipStep=!1:t.skipStep=!0,t.isFlowing=!0}function n(t,n){e.applyAnswer(),n.answerToEvaluate.data=i.getFilling().answer.value||{},n.metadataToEvaluate.data=i.getFilling().metadata.value||{}}function a(e,t){}function o(e,t){return t}var i,r=this;r.beforeEffect=t,r.effect=n,r.afterEffect=a,r.getEffectResult=o}angular.module("otusjs.player.core.step").service("otusjs.player.core.step.ApplyAnswerStepService",e),e.$inject=["otusjs.player.data.activity.ActivityFacadeService"]}(),function(){"use strict";function e(e){function t(e,t){}function n(t,n){e.attachItemValidationError(n.validationResult)}function a(e,t){t.validationResult.hasError&&(e.isFlowing=!1)}function o(e,t){return t}var i=this;i.beforeEffect=t,i.effect=n,i.afterEffect=a,i.getEffectResult=o}angular.module("otusjs.player.core.step").service("otusjs.player.core.step.HandleValidationErrorStepService",e),e.$inject=["otusjs.player.data.activity.ActivityFacadeService"]}(),function(){"use strict";function e(e){function t(t,n){r=e.getCurrentItem()}function n(e,t){t.validationResult={},r.getItem().isQuestion()&&t.validationResponse.validatorsResponse.map(function(e){"mandatory"===e.name||e.data.reference?t.validationResult[e.name]=!e.result&&angular.equals(t.metadataToEvaluate.data,{}):t.validationResult[e.name]=!e.result}),t.validationResult.hasError=i(t)}function a(e,t){}function o(e,t){return t}function i(e){return Object.keys(e.validationResult).some(function(t){return e.validationResult[t]})}var r,c=this;c.beforeEffect=t,c.effect=n,c.afterEffect=a,c.getEffectResult=o}angular.module("otusjs.player.core.step").service("otusjs.player.core.step.ReadValidationErrorStepService",e),e.$inject=["otusjs.player.data.activity.ActivityFacadeService"]}(),function(){"use strict";function e(e,t){function n(t,n){r=e.getCurrentItem(),r.shouldIgnoreResponseEvaluation()?t.skipStep=!0:t.skipStep=!1}function a(e,n){t.applyValidation(r.getItem(),function(e){n.validationResponse=e[0]})}function o(e,t){}function i(e,t){return t}var r,c=this;c.beforeEffect=n,c.effect=a,c.afterEffect=o,c.getEffectResult=i}angular.module("otusjs.player.core.step").service("otusjs.player.core.step.RunValidationStepService",e),e.$inject=["otusjs.player.data.activity.ActivityFacadeService","otusjs.player.data.validation.ItemFillingValidatorService"]}(),function(){"use strict";function e(e,t){function n(t,n){r=e.getCurrentItem(),r.shouldIgnoreResponseEvaluation()?t.skipStep=!0:t.skipStep=!1}function a(e,n){t.setupValidation(r.getItem(),n.answerToEvaluate)}function o(e,t){}function i(e,t){return t}var r,c=this;c.beforeEffect=n,c.effect=a,c.afterEffect=o,c.getEffectResult=i}angular.module("otusjs.player.core.step").service("otusjs.player.core.step.SetupValidationStepService",e),e.$inject=["otusjs.player.data.activity.ActivityFacadeService","otusjs.player.data.validation.ItemFillingValidatorService"]}(),function(){"use strict";angular.module("otusjs.player.data",["otusjs","otusjs.player.data.activity","otusjs.player.data.navigation","otusjs.player.data.validation"])}(),function(){"use strict";angular.module("otusjs.player.data.activity",[])}(),function(){"use strict";function e(e,t){function n(){t.applyFilling()}function a(e){t.attachValidationError(e)}function o(t){return e.getAnswerByItemID(t)}function i(t){return e.getItemByCustomID(t)}function r(t){return e.getNavigationByOrigin(t)}function c(){return t}function s(){return e}function u(){e.initialize()}function l(e){t.fill(e)}function d(){t.clearData(),e.setup()}var p=this;p.applyAnswer=n,p.attachItemValidationError=a,p.fetchItemAnswerByCustomID=o,p.fetchItemByID=i,p.fetchNavigationByOrigin=r,p.getCurrentItem=c,p.getCurrentSurvey=s,p.initialize=u,p.setupAnswer=l,p.setup=d}angular.module("otusjs.player.data.activity").service("otusjs.player.data.activity.ActivityFacadeService",e),e.$inject=["otusjs.player.data.activity.CurrentSurveyService","otusjs.player.data.activity.CurrentItemService"]}(),function(){"use strict";function e(e){function t(){g&&e.fillQuestion(g)}function n(e){j=e,w.updateValidation(e)}function a(){y=null,g=null,h=null,j=null,w=null}function o(e){y.isQuestion()&&(g=e)}function i(){return g}function r(){return y.fillingRules.options}function c(){return y}function s(){return h}function u(){return j}function l(){return!!y}function d(){return y&&y.isQuestion()}function p(){return!y||!y.isQuestion()}function m(e){w=e,w.pushData(g)}function f(t){a(),y=t.item,h=t.navigation,y.isQuestion()?(g=e.getFillingByQuestionID(y.customID),g||(g=e.createQuestionFill(y),g.answerType=y.objectType)):g=null}var v=this,y=null,g=null,h=null,j=null,w=null;v.applyFilling=t,v.attachValidationError=n,v.clearData=a,v.fill=o,v.getFilling=i,v.getFillingRules=r,v.getItem=c,v.getNavigation=s,v.getValidationError=u,v.hasItem=l,v.shouldIgnoreResponseEvaluation=p,v.shouldApplyAnswer=d,v.observerRegistry=m,v.setup=f}angular.module("otusjs.player.data.activity").service("otusjs.player.data.activity.CurrentItemService",e),e.$inject=["otusjs.model.activity.ActivityFacadeService"]}(),function(){"use strict";function e(e){function t(){return e.surveyActivity}function n(t){return e.getFillingByQuestionID(t)}function a(){return e.surveyActivity.template.SurveyItemManager.getItemList()}function o(e){var t=null;return a().some(function(n){if(n.customID===e)return t=n,!0}),t}function i(){return e.surveyActivity.template.NavigationManager.getNavigationList()}function r(e){var t=null;return i().some(function(n){if(n.origin===e)return t=n,!0}),t}function c(){e.openActivitySurvey()}function s(){e.initializeActivitySurvey()}var u=this;u.getSurvey=t,u.getAnswerByItemID=n,u.getItems=a,u.getNavigations=i,u.getNavigationByOrigin=r,u.getItemByCustomID=o,u.initialize=c,u.setup=s}angular.module("otusjs.player.data.activity").service("otusjs.player.data.activity.CurrentSurveyService",e),e.$inject=["otusjs.model.activity.ActivityFacadeService"]}(),function(){"use strict";angular.module("otusjs.player.data.navigation",["otusjs"])}(),function(){"use strict";function e(e,t,n){function a(){return t.getCurrentItem().getNavigation().listRoutes().map(function(e){return t.getCurrentSurvey().getItemByCustomID(e.destination)})}function o(){var e=g.getCurrentItem().getPrevious();return g.back(),e?t.getCurrentSurvey().getItemByCustomID(e.getID()):null}function i(){return g}function r(){return!!t.getCurrentItem().getNavigation().listRoutes().length}function c(){return!!g.getCurrentItem().getPrevious()}function s(){g=t.getCurrentSurvey().getSurvey().getNavigationStack()}function u(){return t.getCurrentItem().hasItem()?p():g.getSize()?d():l()}function l(){return m()}function d(){return m(g.getCurrentItem().getID())}function p(){var e=t.getCurrentItem().getNavigation();if(e){var a=n.calculateRoute(e);return m(a.destination)}}function m(e){var a=null,o=null;return e?(a=t.fetchItemByID(e),o=t.fetchNavigationByOrigin(e)):(a=t.getCurrentSurvey().getItems()[0],o=t.getCurrentSurvey().getNavigations()[0]),o&&n.setup(o),v(a),{item:a,navigation:o}}function f(){if(c()){var e=o(),a=t.getCurrentSurvey().getNavigationByOrigin(e.customID);return n.setup(a),{item:e,navigation:a}}}function v(t){var n={};n.id=t.customID,n.type=t.objectType,t.isQuestion()&&(n.label=t.label.ptBR.plainText),g.add(e.create(n))}var y=this,g=null;y.getNextItems=a,y.getPreviousItem=o,y.getStack=i,y.hasNext=r,y.hasPrevious=c,y.initialize=s,y.loadNextItem=u,y.loadPreviousItem=f}angular.module("otusjs.player.data.navigation").service("otusjs.player.data.navigation.NavigationService",e),e.$inject=["otusjs.model.navigation.NavigationPathItemFactory","otusjs.player.data.activity.ActivityFacadeService","otusjs.player.data.navigation.RouteService"]}(),function(){"use strict";function e(e){function t(){return p}function n(){return l}function a(){return d}function o(){var e=i();return e?e:d}function i(){var e=null;return p.some(function(t){if(r(t))return e=t,!0}),e}function r(e){return e.listConditions().some(c)}function c(t){return t.listRules().every(e.isRuleApplicable)}function s(e){var t=e.listRoutes();l=e,d=t[0],p=t.slice(1)}var u=this,l=null,d=null,p=[];u.calculateRoute=o,u.getAlternativeRoutes=t,u.getCurrentNavigation=n,u.getDefaultRoute=a,u.setup=s}angular.module("otusjs.player.data.navigation").service("otusjs.player.data.navigation.RouteService",e),e.$inject=["otusjs.player.data.navigation.RuleService"]}(),function(){"use strict";function e(e){function t(t){var n=(e.fetchItemByID(t.when),e.fetchItemAnswerByCustomID(t.when));return!!n&&(t.isMetadata?n.answer.eval.run(t,n.metadata.value):n.answer.eval.run(t,n.answer.value))}var n=this;n.isRuleApplicable=t}angular.module("otusjs.player.data.navigation").service("otusjs.player.data.navigation.RuleService",e),e.$inject=["otusjs.player.data.activity.ActivityFacadeService"]}(),function(){"use strict";angular.module("otusjs.player.data.validation",["otus.validation"])}(),function(){"use strict";function e(e,t){function n(e,n){t.validateElement(e.customID,n)}function a(n,a){var o=e.create(n.customID,a);Object.keys(n.fillingRules.options).map(function(e){var t=n.fillingRules.options[e].data;o.addValidator(e,t)}),t.unregisterElement(o.id),t.registerElement(o)}var o=this;o.applyValidation=n,o.setupValidation=a}angular.module("otusjs.player.data.validation").service("otusjs.player.data.validation.ItemFillingValidatorService",e),e.$inject=["ElementRegisterFactory","otusjs.validation.api.ValidationService"]}();